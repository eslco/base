rule-providers:
    # åŸºç¤è¦å‰‡é›† | Basic rule set
    private:
        type: http
        behavior: domain
        url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.yaml
        path: ./ruleset/private.yaml
        interval: 86400
    cn_domain:
        type: http
        behavior: domain
        url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.yaml
        path: ./ruleset/cn_domain.yaml
        interval: 86400
    geolocation-!cn:
        type: http
        behavior: domain
        url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.yaml
        path: ./ruleset/geolocation-!cn.yaml
        interval: 86400
    cn_ip:
        type: http
        behavior: ipcidr
        url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.yaml
        path: ./ruleset/cn_ip.yaml
        interval: 86400

    # æµåª’é«”è¦å‰‡é›† | Streaming rule set
    netflix:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
        path: ./ruleset/netflix.yaml
        interval: 86400
    disney:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml
        path: ./ruleset/disney.yaml
        interval: 86400
    youtube:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
        path: ./ruleset/youtube.yaml
        interval: 86400
    spotify:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml
        path: ./ruleset/spotify.yaml
        interval: 86400

    # ç¤¾äº¤åª’é«”è¦å‰‡é›† | Social media rule set
    telegram:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
        path: ./ruleset/telegram.yaml
        interval: 86400
    twitter:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml
        path: ./ruleset/twitter.yaml
        interval: 86400
    facebook:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml
        path: ./ruleset/facebook.yaml
        interval: 86400
    instagram:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml
        path: ./ruleset/instagram.yaml
        interval: 86400

    # AIæœå‹™è¦å‰‡é›† | AI services rule set
    ai_services:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
        path: ./ruleset/ai_services.yaml
        interval: 86400
    claude:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.yaml
        path: ./ruleset/claude.yaml
        interval: 86400
    gemini:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml
        path: ./ruleset/gemini.yaml
        interval: 86400
    bard:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BardAI/BardAI.yaml
        path: ./ruleset/bard.yaml
        interval: 86400
    google:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
        path: ./ruleset/google.yaml
        interval: 86400

    # å¸¸ç”¨è»Ÿé«”è¦å‰‡é›† | Common software rule set
    microsoft:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
        path: ./ruleset/microsoft.yaml
        interval: 86400
    steam:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml
        path: ./ruleset/steam.yaml
        interval: 86400
    github:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
        path: ./ruleset/github.yaml
        interval: 86400
    docker:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Docker/Docker.yaml
        path: ./ruleset/docker.yaml
        interval: 86400

    # ä¸‹è¼‰è¦å‰‡é›† | Download rule set
    download:
        type: http
        behavior: classical
        url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.yaml
        path: ./ruleset/download.yaml
        interval: 86400

proxy-groups:
# ä¸»è¦ä»£ç†çµ„ | Main proxy group
- name: PROXY
    type: select
    proxies:
    - AUTO
    - DIRECT
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK
    - Balance
    - Lantency
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

# åœ°å€åˆ†çµ„ | Regional groups
- name: ğŸ‡ºğŸ‡¸ US
    type: url-test
    hidden: true
    include-all: true
    filter: (?i)ç¾åœ‹|USA|US|ğŸ‡ºğŸ‡¸|ç¾å›½
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: ğŸ‡¬ğŸ‡§ UK
    type: url-test
    hidden: true
    include-all: true
    filter: (?i)è‹±åœ‹|ğŸ‡¬ğŸ‡§ UK|GB|ğŸ‡¬ğŸ‡§
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

 - name: ğŸ‡¨ğŸ‡¦ CA
     type: url-test
     include-all: true
     hidden: true
     filter: (?i)åŠ æ‹¿å¤§|Canada|CA|ğŸ‡¨ğŸ‡¦
     interval: 300
     tolerance: 50
     url: "https://www.gstatic.com/generate_204"
     exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: ğŸ‡·ğŸ‡ºRU
    type: url-test
    include-all: true
    filter: (?i)ä¿„ç¾…æ–¯|RğŸ‡ºğŸ‡¸sia|RU|ğŸ‡·ğŸ‡º
    hidden: true
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: ğŸ‡¯ğŸ‡µJP
    type: url-test
    include-all: true
    filter: (?i)æ—¥æœ¬|Japan|ğŸ‡¯ğŸ‡µJP|ğŸ‡¯ğŸ‡µ
    hidden: true
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: ğŸ‡¹ğŸ‡¼TW
    type: url-test
    include-all: true
    filter: (?i)å°ç£|Taiwan|TW|ğŸ‡¹ğŸ‡¼
    hidden: true
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: ğŸ‡¸ğŸ‡¬ SG
    type: url-test
    include-all: true
    filter: (?i)æ–°åŠ å¡|Singapore|SG|ğŸ‡¸ğŸ‡¬
    hidden: true
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: ğŸ‡­ğŸ‡° HK
    type: url-test
    include-all: true
    filter: (?i)é¦™æ¸¯|Hong Kong|HK|ğŸ‡­ğŸ‡°
    hidden: true
    interval: 300
    tolerance: 50
    url: "https://www.gstatic.com/generate_204"
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

# AIå’Œè°·æ­Œæœå‹™åˆ†çµ„ | AI and Google services group
- name: AIGC
    type: select
    proxies:
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK
    - AUTO
    - PROXY
    - Balance
    - Lantency

- name: Google
    type: select
    proxies:
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK
    - AUTO
    - PROXY
    - Balance
    - Lantency

# æµåª’é«”åˆ†çµ„ | Streaming group
- name: Streaming
    type: select
    proxies:
    - AUTO
    - PROXY
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK
    - Balance
    - Lantency

# ç¤¾äº¤åª’é«”åˆ†çµ„ | Social media group
- name: "Social"
    type: select
    proxies:
    - AUTO
    - PROXY
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK
    - Balance
    - Lantency

- name: Microsoft
    type: select
    proxies:
    - DIRECT
    - AUTO
    - PROXY
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK

# è‡ªå‹•é¸æ“‡åˆ†çµ„ | Auto select group
- name: AUTO
    type: url-test
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 50
    include-all: true
    exclude-filter: (?i)GB|Traffic|Expire|Premium|é »é“|è¨‚é–±|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

# ç­–ç•¥çµ„ | Strategy group
- name: Balance
    type: "load-balance"
    strategy: round-robin
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    proxies:
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¹ğŸ‡¼TW
    - ğŸ‡¸ğŸ‡¬ SG
    - ğŸ‡­ğŸ‡° HK

- name: Lantency
    type: url-test
    url: ""https://www.gstatic.com/generate_204""
    interval: 300
    tolerance: 50
    proxies:
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA 
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¸ğŸ‡¬ SG

- name:  # æ•…éšœè½‰ç§» | Failover
    type: fallback
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    proxies:
    - ğŸ‡ºğŸ‡¸US
    - ğŸ‡¬ğŸ‡§ UK
    - ğŸ‡¨ğŸ‡¦ CA
    - ğŸ‡·ğŸ‡ºRU
    - ğŸ‡¯ğŸ‡µJP
    - ğŸ‡¸ğŸ‡¬ SG
    - AUTO
    - Balance
    - Lantency

rules:
# è‡ªå®šç¾© | Custom
- DOMAIN-SUFFIX,linux.do,PROXY
- PROCESS-NAME,docker,PROXY

# ç›´é€£è¦å‰‡ | Direct connection rules
- RULE-SET,private,DIRECT
- RULE-SET,cn_domain,DIRECT
- RULE-SET,cn_ip,DIRECT
- RULE-SET,download,DIRECT

# AIå’Œè°·æ­Œæœå‹™è¦å‰‡ | AI and Google services rules
- RULE-SET,ai_services,AIGC
- RULE-SET,claude,AIGC
- RULE-SET,gemini,AIGC
- RULE-SET,bard,AIGC
- RULE-SET,google,Google

# æµåª’é«”è¦å‰‡ | Streaming rules
- RULE-SET,netflix,Streaming
- RULE-SET,disney,Streaming
- RULE-SET,youtube,Streaming
- RULE-SET,spotify,Streaming

# ç¤¾äº¤åª’é«”è¦å‰‡ | Social media rules
- RULE-SET,telegram,Social
- RULE-SET,twitter,Social
- RULE-SET,facebook,Social
- RULE-SET,instagram,Social

# è»Ÿé«”è¦å‰‡ | Software rules
- RULE-SET,microsoft,Microsoft
- RULE-SET,steam,PROXY
- RULE-SET,github,PROXY
- RULE-SET,docker,PROXY

# é–‹ç™¼ç›¸é—œåŸŸåè¦å‰‡ | Development-related domain rules
- DOMAIN-SUFFIX,github.com,PROXY
- DOMAIN-SUFFIX,githubusercontent.com,PROXY
- DOMAIN-SUFFIX,ghcr.io,PROXY
- DOMAIN-SUFFIX,pkg.github.com,PROXY
- DOMAIN-SUFFIX,docker.io,PROXY
- DOMAIN-SUFFIX,docker.com,PROXY
- DOMAIN-SUFFIX,dockerhub.com,PROXY
- DOMAIN-SUFFIX,registry.docker-cn.com,PROXY
- DOMAIN-SUFFIX,hub.docker.com,PROXY
- DOMAIN-SUFFIX,gcr.io,PROXY
- DOMAIN-SUFFIX,k8s.gcr.io,PROXY
- DOMAIN-KEYWORD,github,PROXY
- DOMAIN-KEYWORD,docker,PROXY

# AIç›¸é—œåŸŸåè¦å‰‡ | AI-related domain rules
- DOMAIN-SUFFIX,anthropic.com,AIGC
- DOMAIN-SUFFIX,claude.ai,AIGC
- DOMAIN-SUFFIX,gemini.google.com,AIGC
- DOMAIN-SUFFIX,bard.google.com,AIGC
- DOMAIN-SUFFIX,deepmind.com,AIGC
- DOMAIN-SUFFIX,openai.com,AIGC
- DOMAIN-SUFFIX,chat.openai.com,AIGC
- DOMAIN-SUFFIX,ai.com,AIGC
- DOMAIN-SUFFIX,auth0.com,AIGC
- DOMAIN-SUFFIX,challenges.cloudflare.com,AIGC
- DOMAIN-SUFFIX,client-api.arkoselabs.com,AIGC
- DOMAIN-SUFFIX,events.statsigapi.net,AIGC
- DOMAIN-SUFFIX,featuregates.org,AIGC
- DOMAIN-SUFFIX,identrust.com,AIGC
- DOMAIN-SUFFIX,intercom.io,AIGC
- DOMAIN-SUFFIX,intercomcdn.com,AIGC
- DOMAIN-SUFFIX,poe.com,AIGC
- DOMAIN-SUFFIX,sentry.io,AIGC
- DOMAIN-SUFFIX,stripe.com,AIGC
- DOMAIN-KEYWORD,openai,AIGC
- DOMAIN-KEYWORD,anthropic,AIGC

# å…¨å±€è¦å‰‡ | Global rules
- GEOIP,CN,DIRECT
- RULE-SET,geolocation-!cn,PROXY
- MATCH,fallback